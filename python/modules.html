
<!DOCTYPE html>

<html lang="cs">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Moduly &#8212; Školení GeoPython pro začátečníky</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/gismentors.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="search" title="Vyhledávání" href="../search.html" />
    <link rel="next" title="Práce se soubory" href="files.html" />
    <link rel="prev" title="Výjimky" href="exceptions.html" /> 
  </head><body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Školení GeoPython pro začátečníky</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="exceptions.html" title="Výjimky"
             accesskey="P">předchozí</a> |
          <a href="files.html" title="Práce se soubory"
             accesskey="N">další</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="moduly">
<h1>Moduly<a class="headerlink" href="#moduly" title="Permalink to this heading">¶</a></h1>
<p>Síla programovacího jazyka není pouze v jeho syntaxi, ale především ve funkcích,
které už někdo naprogramoval před vámi a vy je musíte jenom použít.</p>
<p>Python používá systém <em>modulů</em> - v podstatě se jedná o soubory, ve kterých jsou
funkce uloženy a do vašeho programu je musíte <em>naimportovat</em>. Heslem Pythonu je
<em>„batterries included“</em> a znamená to, že opravdu spousta věcí je už hotová a
dostupná.</p>
<p>Čím více modulů budete importovat, tím více vám váš program bude zabírat v
paměti a jeho spouštění bude o něco pomalejší - neimportujte něco, co
nepotřebujete.</p>
<p>Vyzkoušíme si např. některé funkce z modulu <cite>math</cite></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>

<span class="nb">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>Funkce <code class="xref py py-func docutils literal notranslate"><span class="pre">sqrt()</span></code> není standardně v základu Pythonu přítomna.  Program by skončil
výjimkou</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;math&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</pre></div>
</div>
<p>Modul <cite>math</cite> obsahuje celou řadu zajímavých věcí, např. číslo <cite>PI</cite></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p>Importovat můžete buď celé moduly, jako v předchozím příkladě, nebo jenom
jednotlivé fukce, např. <code class="xref py py-func docutils literal notranslate"><span class="pre">sin()</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
</pre></div>
</div>
<p>Nyní něco ze světa prostorových dat</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Point</span>

<span class="n">centroid</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span> <span class="c1"># vytvoříme nový objekt třídy &quot;Point&quot;</span>
<span class="n">patch</span> <span class="o">=</span> <span class="n">centroid</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span> <span class="c1"># zavoláme jeho metodu buffer</span>
<span class="nb">print</span><span class="p">(</span><span class="n">patch</span><span class="o">.</span><span class="n">area</span><span class="p">)</span> <span class="c1"># a tiskneme jeho plochu</span>
</pre></div>
</div>
<p>V předchozím příkladu jsme z modulu <cite>shapely</cite>, který nám umožňuje pracovat s
vektorovými geometriemi naimportovali třídu <code class="xref py py-class docutils literal notranslate"><span class="pre">Point</span></code>, vytvořili jsme nový
bod, okolo něj buffer o velikosti 10 a vytiskli plochu výsledné obalové zóny.</p>
<p>Trochu jsme tím nakoukli do světa objektově-orientovaného programování, blíže se
s ním seznámíme v další části.</p>
<p>Nyní zkusíme ještě vytisknout vytvořený buffer ve formátu GeoJSON:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">mapping</span>

<span class="nb">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">mapping</span><span class="p">(</span><span class="n">patch</span><span class="p">)))</span>
</pre></div>
</div>
<p>V předchozím příkladu jsme na posledním řádku použili jako vstup pro funkci
<code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code> výstup z funkce <code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code>, která zase dostala výstup z
funkce <code class="xref py py-func docutils literal notranslate"><span class="pre">mapping()</span></code> - není to moc přehledné, ale podobné konstrukce se
používají často.</p>
<section id="dokumentace-k-modulum">
<h2>Dokumentace k modulům<a class="headerlink" href="#dokumentace-k-modulum" title="Permalink to this heading">¶</a></h2>
<p>Je na čase, seznámit se s příkazem <cite>pydoc</cite> (nebo <cite>pydoc3</cite>), který jako parametr
dostane modul a provede vás jeho dokumentací</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pydoc<span class="w"> </span>shapely


Help<span class="w"> </span>on<span class="w"> </span>package<span class="w"> </span>shapely.geometry<span class="w"> </span><span class="k">in</span><span class="w"> </span>shapely:

NAME
<span class="w">    </span>shapely.geometry<span class="w"> </span>-<span class="w"> </span>Geometry<span class="w"> </span>classes<span class="w"> </span>and<span class="w"> </span>factories

FILE
<span class="w">    </span>/home/jachym/.local/lib/python2.7/site-packages/shapely/geometry/__init__.py

PACKAGE<span class="w"> </span>CONTENTS
<span class="w">    </span>base
<span class="w">    </span>collection
<span class="w">    </span>geo
<span class="w">    </span>linestring
<span class="w">    </span>multilinestring
<span class="w">    </span>multipoint
<span class="w">    </span>multipolygon

...
</pre></div>
</div>
<p>Google vám vždycky dobře poradí, pokud správně hledáte a seznam modulů
distribuovaných spolu s jazykem Python najdete na <a class="reference external" href="https://docs.python.org/3/library/index.html">dokumentační stránce jazyka
Python</a>.</p>
</section>
<section id="vlastni-moduly">
<h2>Vlastní moduly<a class="headerlink" href="#vlastni-moduly" title="Permalink to this heading">¶</a></h2>
<p>Uložíte-li program do souboru, stává se tímto váš soubor modulem, který lze
použít a naimportovat.</p>
<p>Vytvoříme soubor <code class="file docutils literal notranslate"><span class="pre">buffer.py</span></code> s následujícím obsahem:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">Point</span>
<span class="kn">from</span> <span class="nn">shapely.geometry</span> <span class="kn">import</span> <span class="n">mapping</span><span class="p">,</span> <span class="n">shape</span>

<span class="k">def</span> <span class="nf">udelej_buffer</span><span class="p">(</span><span class="n">geometry</span><span class="p">,</span> <span class="n">velikost</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Vrátí buffer ve formátu GeoJSON pro zadanou geometrii</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">geometrie</span> <span class="o">=</span> <span class="n">shape</span><span class="p">(</span><span class="n">geometry</span><span class="p">)</span>
    <span class="n">buffer</span> <span class="o">=</span> <span class="n">geometrie</span><span class="o">.</span><span class="n">buffer</span><span class="p">(</span><span class="n">velikost</span><span class="p">)</span>
    <span class="k">return</span>  <span class="n">mapping</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
</pre></div>
</div>
<p>Nyní můžeme v jiném programu (nebo přímo v interpretu) náš modul použít:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">buffer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">muj_bod</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Point&quot;</span><span class="p">,</span> <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">buffer</span><span class="o">.</span><span class="n">udelej_buffer</span><span class="p">(</span><span class="n">muj_bod</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;type&#39;: &#39;Polygon&#39;,</span>
<span class="go">    &#39;coordinates&#39;: ((</span>
<span class="go">        (3.0, 0.0),</span>
<span class="go">        (2.9855541800165906, -0.29405142098868153),</span>
<span class="go">        (2.9423558412096917, -0.5852709660483842),</span>
<span class="go">        (2.8708210071966267, -0.8708540317633864),</span>
<span class="go">        (2.771638597533861, -1.1480502970952682),</span>
<span class="go">        (2.6457637930450657, -1.4141902104779915),</span>
<span class="go">        (2.4944088369076365, -1.6667106990588052),</span>
<span class="go">        (2.3190313600882124, -1.903179852490935),</span>
<span class="go">        (2.1213203435596446, -2.1213203435596406),</span>
<span class="go">        (1.903179852490939, -2.319031360088209),</span>
<span class="go">        (1.6667106990588092, -2.4944088369),</span>
<span class="go">        ...</span>
<span class="go">    ))</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Moduly nám tedy umožňují uklidit spolu související části programu do logických
celků, rozsekat rozsáhlé programy do menších souborů a strukturovat tak kód pro
přehlednější použití.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../uvod.html">Úvod</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Úvod do jazyka Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#virtualenv">Virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#prvni-program">První program</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#zaklady-jazyka-python">Základy jazyka Python</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vektorova_data/index.html">Práce s vektorovými daty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rastrova_data/index.html">Práce s rastrovými daty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../owslib/index.html">Načítání dat pomocí webových služeb OGC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pyproj/index.html">Transformace souřadnic</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mracna_bodu/index.html">Práce s mračnem bodů</a></li>
<li class="toctree-l1"><a class="reference internal" href="../geodjango/index.html">GeoDjango</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ruzne/jupyter.html">Jupyter notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ruzne/instalace/index.html">Instalace potřebných knihoven</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ruzne/editor/index.html">Výběr textového editoru pro jazyk Python</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Vyhledávání</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="OK" />
            </form>
          </div>

        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="exceptions.html" title="Výjimky"
              >předchozí</a> |
            <a href="files.html" title="Práce se soubory"
              >další</a>
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2023 GISMentors.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>